import{j as z,c as M,h as S,s as J,aE as W,aF as ee,al as te,a3 as R,aM as re,Z as ne,g as se,a0 as oe,C as ae,aN as ie,aO as k,N,aP as F,aI as Z,aQ as ue,aR as O}from"./index.b7cf31e4.js";import{u as ce,a as le}from"./QCard.3fd4b064.js";import{P as y,R as de}from"./format.d7776d46.js";import{api as p}from"./axios.5abe3e55.js";var Ke=z({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const n=M(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>S(e.tag,{class:n.value},J(t.default))}});const fe={xs:8,sm:10,md:14,lg:20,xl:24};var Je=z({name:"QChip",props:{...ce,...W,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:n}){const{proxy:{$q:r}}=se(),o=le(e,r),s=ee(e,fe),u=M(()=>e.selected===!0||e.icon!==void 0),a=M(()=>e.selected===!0?e.iconSelected||r.iconSet.chip.selected:e.icon),i=M(()=>e.iconRemove||r.iconSet.chip.remove),d=M(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),c=M(()=>{const f=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(f?` text-${f} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(d.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(o.value===!0?" q-chip--dark q-dark":"")}),l=M(()=>{const f=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},L={...f,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||r.lang.label.remove};return{chip:f,remove:L}});function h(f){f.keyCode===13&&g(f)}function g(f){e.disable||(n("update:selected",!e.selected),n("click",f))}function m(f){(f.keyCode===void 0||f.keyCode===13)&&(oe(f),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function D(){const f=[];d.value===!0&&f.push(S("div",{class:"q-focus-helper"})),u.value===!0&&f.push(S(R,{class:"q-chip__icon q-chip__icon--left",name:a.value}));const L=e.label!==void 0?[S("div",{class:"ellipsis"},[e.label])]:void 0;return f.push(S("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},re(t.default,L))),e.iconRight&&f.push(S(R,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&f.push(S(R,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:i.value,...l.value.remove,onClick:m,onKeyup:m})),f}return()=>{if(e.modelValue===!1)return;const f={class:c.value,style:s.value};return d.value===!0&&Object.assign(f,l.value.chip,{onClick:g,onKeyup:h}),te("div",f,D(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[ne,e.ripple]])}}});function We(e){let t={};Array.isArray(e)&&(t=e.reduce((s,u)=>(typeof u=="string"&&u.length>0&&(s[u]=!1),s),{}));const n=ae({...t,loadingGlobal:!1}),r={enableLoading:!0,loadingScope:"global"};async function o(s,u,a){const{config:i,onSuccess:d,onError:c,onFinally:l}=a,{enableLoading:h,loadingScope:g}=Object.assign({},r,i);if(g!=="loadingGlobal"&&!e.includes(g))throw new Error("Invalid loading scope.");try{if(s===void 0||typeof s!="function")throw new Error("Missing action or action is not a function.");if(typeof s=="function"){h&&(n[g]=!0,g==="loadingGlobal"&&k.show());const m=await s(u);if(typeof d=="function"){const D=d(m);D&&N.create({type:"positive",message:D})}}}catch(m){let D="";typeof c=="function"?D=c(m):D=m.message,D&&N.create({type:"negative",message:D})}finally{return h&&(n[g]=!1,g==="loadingGlobal"&&k.hide()),typeof l=="function"&&l(),Promise.resolve()}}return{fetchApi:o,...ie(n)}}const P=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function ge(e){return me(e)===0}function he(e,t){return t<=6?31:t<=11||ge(e)?30:29}function me(e){const t=P.length;let n=P[0],r,o,s,u,a;if(e<n||e>=P[t-1])throw new Error("Invalid Jalaali year "+e);for(a=1;a<t&&(r=P[a],o=r-n,!(e<r));a+=1)n=r;return u=e-n,o-u<6&&(u=u-o+ye(o+4,33)*33),s=q(q(u+1,33)-1,4),s===-1&&(s=4),s}function ye(e,t){return~~(e/t)}function q(e,t){return e-~~(e/t)*t}const Q=864e5,De=36e5,_=6e4,U="YYYY-MM-DDTHH:mm:ss.SSSZ",pe=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,ve=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,j={};function Me(e,t){const n="("+t.days.join("|")+")",r=e+n;if(j[r]!==void 0)return j[r];const o="("+t.daysShort.join("|")+")",s="("+t.months.join("|")+")",u="("+t.monthsShort.join("|")+")",a={};let i=0;const d=e.replace(ve,l=>{switch(i++,l){case"YY":return a.YY=i,"(-?\\d{1,2})";case"YYYY":return a.YYYY=i,"(-?\\d{1,4})";case"M":return a.M=i,"(\\d{1,2})";case"MM":return a.M=i,"(\\d{2})";case"MMM":return a.MMM=i,u;case"MMMM":return a.MMMM=i,s;case"D":return a.D=i,"(\\d{1,2})";case"Do":return a.D=i++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return a.D=i,"(\\d{2})";case"H":return a.H=i,"(\\d{1,2})";case"HH":return a.H=i,"(\\d{2})";case"h":return a.h=i,"(\\d{1,2})";case"hh":return a.h=i,"(\\d{2})";case"m":return a.m=i,"(\\d{1,2})";case"mm":return a.m=i,"(\\d{2})";case"s":return a.s=i,"(\\d{1,2})";case"ss":return a.s=i,"(\\d{2})";case"S":return a.S=i,"(\\d{1})";case"SS":return a.S=i,"(\\d{2})";case"SSS":return a.S=i,"(\\d{3})";case"A":return a.A=i,"(AM|PM)";case"a":return a.a=i,"(am|pm)";case"aa":return a.aa=i,"(a\\.m\\.|p\\.m\\.)";case"ddd":return o;case"dddd":return n;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return a.Z=i,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return a.ZZ=i,"(Z|[+-]\\d{2}\\d{2})";case"X":return a.X=i,"(-?\\d+)";case"x":return a.x=i,"(-?\\d{4,})";default:return i--,l[0]==="["&&(l=l.substring(1,l.length-1)),l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),c={map:a,regex:new RegExp("^"+d)};return j[r]=c,c}function X(e,t){return e!==void 0?e:t!==void 0?t.date:ue.date}function E(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=Math.floor(r/60),s=r%60;return n+y(o)+t+y(s)}function Se(e,t,n){let r=e.getFullYear(),o=e.getMonth();const s=e.getDate();return t.year!==void 0&&(r+=n*t.year,delete t.year),t.month!==void 0&&(o+=n*t.month,delete t.month),e.setDate(1),e.setMonth(2),e.setFullYear(r),e.setMonth(o),e.setDate(Math.min(s,C(e))),t.date!==void 0&&(e.setDate(e.getDate()+n*t.date),delete t.date),e}function we(e,t,n){const r=t.year!==void 0?t.year:e[`get${n}FullYear`](),o=t.month!==void 0?t.month-1:e[`get${n}Month`](),s=new Date(r,o+1,0).getDate(),u=Math.min(s,t.date!==void 0?t.date:e[`get${n}Date`]());return e[`set${n}Date`](1),e[`set${n}Month`](2),e[`set${n}FullYear`](r),e[`set${n}Month`](o),e[`set${n}Date`](u),delete t.year,delete t.month,delete t.date,e}function H(e,t,n){const r=V(t),o=new Date(e),s=r.year!==void 0||r.month!==void 0||r.date!==void 0?Se(o,r,n):o;for(const u in r){const a=de(u);s[`set${a}`](s[`get${a}`]()+n*r[u])}return s}function V(e){const t={...e};return e.years!==void 0&&(t.year=e.years,delete t.years),e.months!==void 0&&(t.month=e.months,delete t.months),e.days!==void 0&&(t.date=e.days,delete t.days),e.day!==void 0&&(t.date=e.day,delete t.day),e.hour!==void 0&&(t.hours=e.hour,delete t.hour),e.minute!==void 0&&(t.minutes=e.minute,delete t.minute),e.second!==void 0&&(t.seconds=e.second,delete t.second),e.millisecond!==void 0&&(t.milliseconds=e.millisecond,delete t.millisecond),t}function G(e,t,n){const r=V(t),o=n===!0?"UTC":"",s=new Date(e),u=r.year!==void 0||r.month!==void 0||r.date!==void 0?we(s,r,o):s;for(const a in r){const i=a.charAt(0).toUpperCase()+a.slice(1);u[`set${o}${i}`](r[a])}return u}function be(e,t,n){const r=$e(e,t,n),o=new Date(r.year,r.month===null?null:r.month-1,r.day===null?1:r.day,r.hour,r.minute,r.second,r.millisecond),s=o.getTimezoneOffset();return r.timezoneOffset===null||r.timezoneOffset===s?o:H(o,{minutes:r.timezoneOffset-s},1)}function $e(e,t,n,r,o){const s={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(o!==void 0&&Object.assign(s,o),e==null||e===""||typeof e!="string")return s;t===void 0&&(t=U);const u=X(n,F.props),a=u.months,i=u.monthsShort,{regex:d,map:c}=Me(t,u),l=e.match(d);if(l===null)return s;let h="";if(c.X!==void 0||c.x!==void 0){const g=parseInt(l[c.X!==void 0?c.X:c.x],10);if(isNaN(g)===!0||g<0)return s;const m=new Date(g*(c.X!==void 0?1e3:1));s.year=m.getFullYear(),s.month=m.getMonth()+1,s.day=m.getDate(),s.hour=m.getHours(),s.minute=m.getMinutes(),s.second=m.getSeconds(),s.millisecond=m.getMilliseconds()}else{if(c.YYYY!==void 0)s.year=parseInt(l[c.YYYY],10);else if(c.YY!==void 0){const g=parseInt(l[c.YY],10);s.year=g<0?g:2e3+g}if(c.M!==void 0){if(s.month=parseInt(l[c.M],10),s.month<1||s.month>12)return s}else c.MMM!==void 0?s.month=i.indexOf(l[c.MMM])+1:c.MMMM!==void 0&&(s.month=a.indexOf(l[c.MMMM])+1);if(c.D!==void 0){if(s.day=parseInt(l[c.D],10),s.year===null||s.month===null||s.day<1)return s;const g=r!=="persian"?new Date(s.year,s.month,0).getDate():he(s.year,s.month);if(s.day>g)return s}c.H!==void 0?s.hour=parseInt(l[c.H],10)%24:c.h!==void 0&&(s.hour=parseInt(l[c.h],10)%12,(c.A&&l[c.A]==="PM"||c.a&&l[c.a]==="pm"||c.aa&&l[c.aa]==="p.m.")&&(s.hour+=12),s.hour=s.hour%24),c.m!==void 0&&(s.minute=parseInt(l[c.m],10)%60),c.s!==void 0&&(s.second=parseInt(l[c.s],10)%60),c.S!==void 0&&(s.millisecond=parseInt(l[c.S],10)*10**(3-l[c.S].length)),(c.Z!==void 0||c.ZZ!==void 0)&&(h=c.Z!==void 0?l[c.Z].replace(":",""):l[c.ZZ],s.timezoneOffset=(h[0]==="+"?-1:1)*(60*h.slice(1,3)+1*h.slice(3,5)))}return s.dateHash=y(s.year,6)+"/"+y(s.month)+"/"+y(s.day),s.timeHash=y(s.hour)+":"+y(s.minute)+":"+y(s.second)+h,s}function Pe(e){return typeof e=="number"?!0:isNaN(Date.parse(e))===!1}function Ye(e,t){return G(new Date,e,t)}function Le(e){const t=new Date(e).getDay();return t===0?7:t}function I(e){const t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);const n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);const r=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-r);const o=(t-n)/(Q*7);return 1+Math.floor(o)}function Re(e){return e.getFullYear()*1e4+e.getMonth()*100+e.getDate()}function B(e,t){const n=new Date(e);return t===!0?Re(n):n.getTime()}function je(e,t,n,r={}){const o=B(t,r.onlyDate),s=B(n,r.onlyDate),u=B(e,r.onlyDate);return(u>o||r.inclusiveFrom===!0&&u===o)&&(u<s||r.inclusiveTo===!0&&u===s)}function Be(e,t){return H(e,t,1)}function _e(e,t){return H(e,t,-1)}function v(e,t,n){const r=new Date(e),o=`set${n===!0?"UTC":""}`;switch(t){case"year":case"years":r[`${o}Month`](0);case"month":case"months":r[`${o}Date`](1);case"day":case"days":case"date":r[`${o}Hours`](0);case"hour":case"hours":r[`${o}Minutes`](0);case"minute":case"minutes":r[`${o}Seconds`](0);case"second":case"seconds":r[`${o}Milliseconds`](0)}return r}function Ie(e,t,n){const r=new Date(e),o=`set${n===!0?"UTC":""}`;switch(t){case"year":case"years":r[`${o}Month`](11);case"month":case"months":r[`${o}Date`](C(r));case"day":case"days":case"date":r[`${o}Hours`](23);case"hour":case"hours":r[`${o}Minutes`](59);case"minute":case"minutes":r[`${o}Seconds`](59);case"second":case"seconds":r[`${o}Milliseconds`](999)}return r}function xe(e){let t=new Date(e);return Array.prototype.slice.call(arguments,1).forEach(n=>{t=Math.max(t,new Date(n))}),t}function Oe(e){let t=new Date(e);return Array.prototype.slice.call(arguments,1).forEach(n=>{t=Math.min(t,new Date(n))}),t}function Y(e,t,n){return(e.getTime()-e.getTimezoneOffset()*_-(t.getTime()-t.getTimezoneOffset()*_))/n}function K(e,t,n="days"){const r=new Date(e),o=new Date(t);switch(n){case"years":case"year":return r.getFullYear()-o.getFullYear();case"months":case"month":return(r.getFullYear()-o.getFullYear())*12+r.getMonth()-o.getMonth();case"days":case"day":case"date":return Y(v(r,"day"),v(o,"day"),Q);case"hours":case"hour":return Y(v(r,"hour"),v(o,"hour"),De);case"minutes":case"minute":return Y(v(r,"minute"),v(o,"minute"),_);case"seconds":case"second":return Y(v(r,"second"),v(o,"second"),1e3)}}function x(e){return K(e,v(e,"year"),"days")+1}function He(e){return Z(e)===!0?"date":typeof e=="number"?"number":"string"}function Ce(e,t,n){const r=new Date(e);if(t){const o=new Date(t);if(r<o)return o}if(n){const o=new Date(n);if(r>o)return o}return r}function ke(e,t,n){const r=new Date(e),o=new Date(t);if(n===void 0)return r.getTime()===o.getTime();switch(n){case"second":case"seconds":if(r.getSeconds()!==o.getSeconds())return!1;case"minute":case"minutes":if(r.getMinutes()!==o.getMinutes())return!1;case"hour":case"hours":if(r.getHours()!==o.getHours())return!1;case"day":case"days":case"date":if(r.getDate()!==o.getDate())return!1;case"month":case"months":if(r.getMonth()!==o.getMonth())return!1;case"year":case"years":if(r.getFullYear()!==o.getFullYear())return!1;break;default:throw new Error(`date isSameDate unknown unit ${n}`)}return!0}function C(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}function T(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const A={YY(e,t,n){const r=this.YYYY(e,t,n)%100;return r>=0?y(r):"-"+y(Math.abs(r))},YYYY(e,t,n){return n!=null?n:e.getFullYear()},M(e){return e.getMonth()+1},MM(e){return y(e.getMonth()+1)},MMM(e,t){return t.monthsShort[e.getMonth()]},MMMM(e,t){return t.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return T(this.Q(e))},D(e){return e.getDate()},Do(e){return T(e.getDate())},DD(e){return y(e.getDate())},DDD(e){return x(e)},DDDD(e){return y(x(e),3)},d(e){return e.getDay()},dd(e,t){return this.dddd(e,t).slice(0,2)},ddd(e,t){return t.daysShort[e.getDay()]},dddd(e,t){return t.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return I(e)},ww(e){return y(I(e))},H(e){return e.getHours()},HH(e){return y(e.getHours())},h(e){const t=e.getHours();return t===0?12:t>12?t%12:t},hh(e){return y(this.h(e))},m(e){return e.getMinutes()},mm(e){return y(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return y(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return y(Math.floor(e.getMilliseconds()/10))},SSS(e){return y(e.getMilliseconds(),3)},A(e){return this.H(e)<12?"AM":"PM"},a(e){return this.H(e)<12?"am":"pm"},aa(e){return this.H(e)<12?"a.m.":"p.m."},Z(e,t,n,r){const o=r==null?e.getTimezoneOffset():r;return E(o,":")},ZZ(e,t,n,r){const o=r==null?e.getTimezoneOffset():r;return E(o)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function Ne(e,t,n,r,o){if(e!==0&&!e||e===1/0||e===-1/0)return;const s=new Date(e);if(isNaN(s))return;t===void 0&&(t=U);const u=X(n,F.props);return t.replace(pe,(a,i)=>a in A?A[a](s,u,r,o):i===void 0?a:i.split("\\]").join("]"))}function qe(e){return Z(e)===!0?new Date(e.getTime()):e}var Ee={isValid:Pe,extractDate:be,buildDate:Ye,getDayOfWeek:Le,getWeekOfYear:I,isBetweenDates:je,addToDate:Be,subtractFromDate:_e,adjustDate:G,startOfDate:v,endOfDate:Ie,getMaxDate:xe,getMinDate:Oe,getDateDiff:K,getDayOfYear:x,inferDateFormat:He,getDateBetween:Ce,isSameDate:ke,daysInMonth:C,formatDate:Ne,clone:qe};function w(e){return e.data.code===422?Promise.reject(e.data.message):e.data.code===429?Promise.reject("Too many requests. Please try again later."):e.data.code===500?Promise.reject("Server error. Please try again later."):Promise.resolve(e.data.data)}const Te=O("ctb-nwfb",{state:()=>({}),getters:{},actions:{async getBusCompany(e){try{const t=await p.get(`company/${e}`);return w(t)}catch(t){return Promise.reject(t)}},async getRouteList(e){try{const t=await p.get(`route/${e}`);return w(t)}catch(t){return Promise.reject(t)}},async getBusRoute(e,t){try{const n=await p.get(`route/${e}/${t}`);return w(n)}catch(n){return Promise.reject(n)}},async getBusRouteStopList(e,t,n){try{const r=await p.get(`route-stop/${e}/${t}/${n}`);return w(r)}catch(r){return Promise.reject(r)}},async getBusStop(e){try{const t=await p.get(`stop/${e}`);return w(t)}catch(t){return Promise.reject(t)}},async getBusStopEtaList(e,t,n){try{const r=await p.get(`eta/${e}/${t}/${n}`);return w(r)}catch(r){return Promise.reject(r)}}}});function Ae(){const e=Te();async function t({companyId:s,routeId:u}){try{const a=await e.getBusRoute(s,u);return Promise.resolve(a)}catch(a){return Promise.reject(a)}}async function n({companyId:s}){try{let u=[];const a=await e.getRouteList(s);return a&&(u=a.map(i=>({id:i.route,origin:{en:i.orig_en,tc:i.orig_tc},destination:{en:i.dest_en,tc:i.dest_tc}}))),Promise.resolve(u)}catch(u){return Promise.reject(u)}}async function r({companyId:s,routeId:u}){try{const a={inbound:[],outbound:[]},i=Object.keys(a).map(h=>e.getBusRouteStopList(s,u,h)),d=await Promise.all(i),c=d.flatMap(h=>h).filter((h,g,m)=>m.findIndex(D=>D.stop===h.stop)===g).map(h=>e.getBusStop(h.stop)),l=await Promise.all(c);for(const h in a){const g=h==="inbound"?0:1;a[h]=d[g].map(m=>{const D=l.find(f=>f.stop===m.stop);return{...m,tc:D==null?void 0:D.name_tc,en:D==null?void 0:D.name_en}})}return Promise.resolve(a)}catch(a){return Promise.reject(a)}}async function o({companyId:s,stopId:u,routeId:a,direction:i}){try{const d=await e.getBusStopEtaList(s,u,a);let c=[];return d&&Array.isArray(d)&&(c=d.filter(l=>l&&l.eta),i.toUpperCase()==="INBOUND"?c=c.filter(l=>l.dir==="I"):i.toUpperCase()==="OUTBOUND"&&(c=c.filter(l=>l.dir==="O")),c.length>0&&(c=c.map(l=>Ee.formatDate(l.eta,"HH:mm")))),Promise.resolve(c)}catch(d){return Promise.reject(d)}}return{getBusRoute:t,getRouteList:n,getBusRouteStopList:r,getBusStopEtaList:o}}function $(e){return e.data.code===422?Promise.reject(e.data.message):e.data.code===429?Promise.reject("Too many requests. Please try again later."):e.data.code===500?Promise.reject("Server error. Please try again later."):Promise.resolve(e.data.data)}const ze=O("kmb-lwb",{state:()=>({}),getters:{},actions:{async getRouteList(){try{const e=await p.get("route");return $(e)}catch(e){return Promise.reject(e)}},async getBusRouteInfo(e,t){try{const n=await p.get(`route/${e}/${t}`);return $(n)}catch(n){return Promise.reject(n)}},async getBusRouteStopList(e,t,n){try{const r=await p.get(`route-stop/${e}/${t}/${n}`);return $(r)}catch(r){return Promise.reject(r)}},async getBusStop(e){try{const t=await p.get(`stop/${e}`);return $(t)}catch(t){return Promise.reject(t)}},async getBusEta(e,t,n){try{const r=await p.get(`eta/${e}/${t}/${n}`);return $(r)}catch(r){return Promise.reject(r)}}}});function Fe(){const e=ze();async function t(){try{let r=[];const o=await e.getRouteList();return o&&(r=o.map(s=>({id:s.route,origin:{en:s.orig_en,tc:s.orig_tc},destination:{en:s.dest_en,tc:s.dest_tc}})).filter((s,u,a)=>a.findIndex(i=>i.id===s.id)===u)),Promise.resolve(r)}catch(r){return Promise.reject(r)}}async function n({companyId:r,routeId:o,direction:s}){try{let u=[];return Promise.resolve(u)}catch(u){return Promise.reject(u)}}return{getRouteList:t,getBusRouteStopList:n}}function b(e){return e.data.code===422?Promise.reject(e.data.message):e.data.code===429?Promise.reject("Too many requests. Please try again later."):e.data.code===500?Promise.reject("Server error. Please try again later."):Promise.resolve(e.data.routes)}const Ze=O("nlb",{state:()=>({}),getters:{},actions:{async getBusCompanyInfo({companyId:e}){try{const t=await p.get(`company/${e}`);return b(t)}catch(t){return Promise.reject(t)}},async getRouteList(){try{const e=await p.get("route.php?action=list");return b(e)}catch(e){return Promise.reject(e)}},async getBusRouteInfo(e,t){try{const n=await p.get(`route/${e}/${t}`);return b(n)}catch(n){return Promise.reject(n)}},async getBusRouteStopList(e,t,n){try{const r=await p.get(`route-stop/${e}/${t}/${n}`);return b(r)}catch(r){return Promise.reject(r)}},async getBusStop(e){try{const t=await p.get(`stop/${e}`);return b(t)}catch(t){return Promise.reject(t)}},async getBusEta(e,t,n){try{const r=await p.get(`eta/${e}/${t}/${n}`);return b(r)}catch(r){return Promise.reject(r)}}}});function Qe(){const e=Ze();async function t(){try{let r=[];const o=await e.getRouteList();return o&&(r=o.map(s=>{const u=s.routeName_e.split(" > "),a=s.routeName_c.split(" > ");return{id:s.routeNo,origin:{en:u[0],tc:a[0]},destination:{en:u[1],tc:a[1]}}}).filter((s,u,a)=>a.findIndex(i=>i.id===s.id)===u)),Promise.resolve(r)}catch(r){return Promise.reject(r)}}async function n({companyId:r,routeId:o,direction:s}){try{let u=[];return Promise.resolve(u)}catch(u){return Promise.reject(u)}}return{getRouteList:t,getBusRouteStopList:n}}function et(){const e=Ae(),t=Fe(),n=Qe();async function r({companyId:a,routeId:i}){try{const d=await e.getBusRoute({companyId:a,routeId:i});return Promise.resolve(d)}catch(d){return Promise.reject(d)}}async function o({companyId:a}){try{let i=[];return["ctb","nwfb"].includes(a)?i=await e.getRouteList({companyId:a}):a==="kmb"?i=await t.getRouteList():a==="nlb"&&(i=await n.getRouteList()),Promise.resolve(i)}catch(i){return Promise.reject(i)}}async function s({companyId:a,routeId:i}){try{let d=[];return["nwfb","ctb"].includes(a)&&(d=await e.getBusRouteStopList({companyId:a,routeId:i})),Promise.resolve(d)}catch(d){return Promise.reject(d)}}async function u({companyId:a,stopId:i,routeId:d,direction:c}){try{let l=[];return["nwfb","ctb"].includes(a)&&(l=await e.getBusStopEtaList({companyId:a,stopId:i,routeId:d,direction:c})),Promise.resolve(l)}catch(l){return Promise.reject(l)}}return{getBusRoute:r,getRouteList:o,getBusRouteStopList:s,getBusStopEtaList:u}}export{Je as Q,et as a,Ke as b,We as u};
